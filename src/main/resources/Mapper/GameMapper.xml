<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.Dao.GameDao">
    <resultMap id="Game" type="com.example.Dao.Game">
        <id column="game_number" property="game_number" javaType="int" jdbcType="INTEGER"/>
        <result column="game_name" property="game_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result column="game_info" property="game_info" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result column="game_rule" property="game_rule" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result column="game_image" property="game_image" javaType="java.lang.String" jdbcType="VARCHAR"/>
    </resultMap>

    <select id="Selectbykey" parameterType="int" resultMap="Game">
        select *
        from GAME
        where game_number=#{game_number}
    </select>

    <select id="Selectbyname" parameterType="java.lang.String" resultMap="Game">
        select *
        from GAME
        where game_name=#{game_name}
    </select>

    <select id="SelectAll" resultMap="Game">
        select *
        from GAME
    </select>


    <select id="SelectRank" resultMap="Game">
        Select game.*
        From purchase, game
        where purchase.game_number = game.game_number
        group by purchase.game_number
        order by count(*) desc
    </select>
</mapper>